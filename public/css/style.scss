---
---

/*
  this ensures Jekyll reads the file to be transformed into CSS later
  only Main files contain this front matter, not partials.
*/

/*
 * Contents
 *
 * Body resets
 * Custom type
 * Messages
 * Container
 * Masthead
 * Posts and pages
 * Pagination
 * Reverse layout
 * Themes
 */
@import url(http://fonts.googleapis.com/css?family=Cardo:400,400italic,700);

$red-orange: #BF1F49; 
$off-white: #dddddd;
  //used as masthead background color
$green-matte: #94B288;
$green-blue: #005C59;
$masthead-height: 95px;
$lighter-grey: #9a9a9a;

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
}

html {
  font-family: Cardo, sans-serif;
  font-size: 16px;
  line-height: 1.45;
}
@media (min-width: 38em) {
  html {
    font-size: 20px;
  }
}

body {
}

/* No `:visited` state is required by default (browsers will use `a`) */
a {
  color: $red-orange;
  text-decoration: none;
}
a strong {
  color: inherit;
}
/* `:focus` is linked to `:hover` for basic accessibility */
a:hover,
a:focus {
  text-decoration: underline;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  margin-bottom: .5rem;
  font-weight: bold;
  line-height: 1.25;
  text-rendering: optimizeLegibility;
}
h1 {
  font-size: 2rem;
}
h2 {
  margin-top: 1rem;
  font-size: 1.5rem;
}
h3 {
  margin-top: 1.5rem;
  font-size: 1.25rem;
}
h4, h5, h6 {
  margin-top: 1rem;
  font-size: 1rem;
}

/* Body text */
p {
  margin-top: 0;
  margin-bottom: 1rem;
}


/* Lists */
ul, ol, dl {
  margin-top: 0;
  margin-bottom: 1rem;
}

dt {
  font-weight: bold;
}
dd {
  margin-bottom: .5rem;
}

/* Misc */
hr {
  position: relative;
  margin: 1.5rem 0;
  border: none;
  text-align: center;
  color: $lighter-grey;
}

hr:after {
  content: ". . .";
  letter-spacing: 0.5em;
}

abbr {
  font-size: 85%;
  font-weight: bold;
  color: #555;
  text-transform: uppercase;
}
abbr[title] {
  cursor: help;
  border-bottom: 1px dotted #e5e5e5;
}

/* Code */
code,
pre {
  font-family: Menlo, Monaco, "Courier New", monospace;
}
code {
  padding: .25em .5em;
  font-size: 85%;
  color: #bf616a;
  background-color: #f9f9f9;
  border-radius: 3px;
}
pre {
  display: block;
  margin-top: 0;
  margin-bottom: 1rem;
  padding: 1rem;
  font-size: .8rem;
  line-height: 1.4;
  white-space: pre;
  white-space: pre-wrap;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f9f9f9;
}
pre code {
  padding: 0;
  font-size: 100%;
  color: inherit;
  background-color: transparent;
}

/* Pygments via Jekyll */
.highlight {
  margin-bottom: 1rem;
  border-radius: 4px;
}
.highlight pre {
  margin-bottom: 0;
}

/* Gist via GitHub Pages */
.gist .gist-file {
  font-family: Menlo, Monaco, "Courier New", monospace !important;
}
.gist .markdown-body {
  padding: 15px;
}
.gist pre {
  padding: 0;
  background-color: transparent;
}
.gist .gist-file .gist-data {
  font-size: .8rem !important;
  line-height: 1.4;
}
.gist code {
  padding: 0;
  color: inherit;
  background-color: transparent;
  border-radius: 0;
}

/* Quotes */
blockquote {
  padding: .5rem 1rem;
  margin: .8rem 0;
  color: #7a7a7a;
  border-left: .25rem solid #e5e5e5;
}
blockquote p:last-child {
  margin-bottom: 0;
}
@media (min-width: 30em) {
  blockquote {
    padding-right: 5rem;
    padding-left: 1.25rem;
  }
}

img {
  display: block;
  width: 100%;
  margin: 0 0 1rem;
}

/* Tables */
table {
  margin-bottom: 1rem;
  width: 100%;
  border: 1px solid #e5e5e5;
  border-collapse: collapse;
}
td,
th {
  padding: .25rem .5rem;
  border: 1px solid #e5e5e5;
}
tbody tr:nth-child(odd) td,
tbody tr:nth-child(odd) th {
  background-color: #f9f9f9;
}


/*
 * Custom type
 *
 * Extend paragraphs with `.lead` for larger introductory text.
 */

.lead {
  font-size: 1.25rem;
  font-weight: 300;
}


/*
 * Messages
 *
 * Show alert messages to users. You may add it to single elements like a `<p>`,
 * or to a parent if there are multiple elements to show.
 */

.message {
  margin-bottom: 1rem;
  padding: 1rem;
  background-color: #f9f9f9;
}


/*
 * Container
 *
 * Center the page content.
 */

.container {
  width: 92vw;
  max-width: 750px;
  margin: auto;
}


/*
 * Masthead
 *
 * Super small header above the content for site name and short description.
 */

.masthead {
  padding-top: 1rem;
  padding-bottom: 1rem;
  margin-bottom: 3rem;
}

.masthead-background {
  height: $masthead-height;
  margin-bottom: -1*$masthead-height;
  background-color: $off-white;

}

.masthead-title {
  margin-top: 0;
  margin-bottom: 0;
}
.masthead-title a {
  color: black;
}
.masthead-title small {
  font-size: 75%;
  font-weight: 400;
  color: black;
  letter-spacing: 0;
}

.masthead img{
  float: right;
  height: 60px;
  width: auto;
}


/*
 * Posts and pages
 *
 * Each post is wrapped in `.post` and is used on default and post layouts. Each
 * page is wrapped in `.page` and is only used on the page layout.
 */

.page,
.post {
  margin-bottom: 4em;
}

/* Blog post or page title */
.page-title,
.post-title,
.post-title a {
  color: black;
}

.page-title a:hover,
.post-title a:hover {
  border-bottom: 2px solid $green-matte;
  text-decoration: none;
}

.page-title,
.post-title {
  margin-top: 0;
}

/* Meta data line below post title */
.post-date {
  display: block;
  margin-top: -.3rem;
  margin-bottom: 1rem;
  color: $lighter-grey;
}

/* Related posts */
.related {
  padding-top: 2rem;
  padding-bottom: 2rem;
  border-top: 1px solid #eee;
}
.related-posts {
  padding-left: 0;
  list-style: none;
}
.related-posts h3 {
  margin-top: 0;
}
.related-posts li small {
  font-size: 75%;
  color: #999;
}
.related-posts li a:hover {
  color: #268bd2;
  text-decoration: none;
}
.related-posts li a:hover small {
  color: inherit;
}


/*
 * Pagination
 *
 * Super lightweight (HTML-wise) blog pagination. `span`s are provide for when
 * there are no more previous or next posts to show.
 */

.pagination {
  overflow: hidden; /* clearfix */
  margin-left: -1rem;
  margin-right: -1rem;
  font-family: "PT Sans", Helvetica, Arial, sans-serif;
  color: #ccc;
  text-align: center;
}

/* Pagination items can be `span`s or `a`s */
.pagination-item {
  display: block;
  padding: 1rem;
  border: 1px solid #eee;
}
.pagination-item:first-child {
  margin-bottom: -1px;
}

/* Only provide a hover state for linked pagination items */
a.pagination-item:hover {
  background-color: #f5f5f5;
}

@media (min-width: 30em) {
  .pagination {
    margin: 3rem 0;
  }
  .pagination-item {
    float: left;
    width: 50%;
  }
  .pagination-item:first-child {
    margin-bottom: 0;
    border-top-left-radius:    4px;
    border-bottom-left-radius: 4px;
  }
  .pagination-item:last-child {
    margin-left: -1px;
    border-top-right-radius:    4px;
    border-bottom-right-radius: 4px;
  }
}





























// bigfoot - v2.0.3 - 2014.07.15


//  ___ __ __    ________  __     __    ________  ___   __    ______
// /__//_//_/\  /_______/\/__/\ /__/\  /_______/\/__/\ /__/\ /_____/\
// \::\| \| \ \ \__.::._\/\ \::\\:.\ \ \__.::._\/\::\_\\  \ \\::::_\/_
//  \:.      \ \   \::\ \  \_\::_\:_\/    \::\ \  \:. `-\  \ \\:\/___/\
//   \:.\-/\  \ \  _\::\ \__ _\/__\_\_/\  _\::\ \__\:. _    \ \\_::._\:\
//    \. \  \  \ \/__\::\__/\\ \ \ \::\ \/__\::\__/\\. \`-\  \ \ /____\:\
//     \__\/ \__\/\________\/ \_\/  \__\/\________\/ \__\/ \__\/ \_____\/
//



@mixin transitions($transitions...) {
    $transition: nth($transitions, 1);
    @if length($transitions) > 1 {
        @for $i from 2 through length($transitions) {
            $transition: $transition + ", " + nth($transitions, $i);
        }
    }
    $transition: unquote($transition);
    -moz-transition: $transition;
    -webkit-transition: $transition;
    -o-transition: $transition;
    transition: $transition;
}

@mixin transition-property($properties) {
    $prefixes: ("-webkit-", "-moz-", "-ms-", "");

    @each $prefix in $prefixes {
        #{unquote($prefix)}transition: prefix-properties($properties, $prefix);
    }
}

@function prefix-properties($properties, $prefix) {
    $new-props: property-checker(nth($properties, 1), $prefix);
    @if(length($properties) > 1) {
        @if length($properties) > 1 {
            @for $i from 2 through length($properties) {
                $new-props: $new-props + ", " + property-checker(nth($properties, $i), $prefix);
            }
        }
    }
    @return unquote($new-props);
}

@function property-checker($property, $prefix) {
    @if(unquote($property) == transform) {
        @return "" + quote($prefix) + quote($property);
    } @else {
        @return quote($property);
    }
}

@mixin long-shadow($type, $color, $length, $horizontalTo: left, $verticalTo: bottom) {
    $shadow: '';

    $leftOrRight: -1;
    @if $horizontalTo == right { $leftOrRight: 1; }
    $upOrDown: -1;
    @if $verticalTo == top { $upOrDown: 1; }

    @for $i from 1 to $length {
        $shadow: $shadow + $i * $leftOrRight + 'px ' + $i * $upOrDown + 'px 0px ' + $color + ',';
    }


    $shadow: $shadow + $leftOrRight * $length + 'px ' + $upOrDown * $length + 'px 0px ' + $color;

    $shadow: unquote($shadow);

    @if $type == 'box' {
        box-shadow: $shadow;
    } @else if $type == 'text' {
        text-shadow: $shadow;
    }
}

@mixin gradient($towards, $startColor, $stop, $toColor) {
    $towards : unquote($towards);
    $startingFrom: "";
    @if $towards == top {
        $startingFrom : bottom;
    } @else {
        $startingFrom : top;
    }

    background: $startColor;
    background: -moz-linear-gradient($startingFrom, $startColor 0%, $startColor $stop, $toColor 100%);
    background: -webkit-gradient(linear, left $startingFrom, left $towards, color-stop(0%, $startColor), color-stop($stop, $startColor), color-stop(100%, $toColor));
    background: -webkit-linear-gradient($startingFrom, $startColor 0%, $startColor $stop, $toColor 100%);
    background: -o-linear-gradient($startingFrom, $startColor 0%, $startColor $stop, $toColor 100%);
    background: -ms-linear-gradient($startingFrom, $startColor 0%, $startColor $stop, $toColor 100%);
    background: linear-gradient(to $towards, $startColor 0%, $startColor $stop, $toColor 100%);
}

@mixin print-styles {
    // These styles restore the original footnote numbers and texts when the page is printed
    @media not print {
        .footnote-print-only {
            display: none !important;
        }
    }

    @media print {
        .footnote-button {
            display: none !important;
        }
    }
}

// -----


//  ______   ______   ______   ________   __  __   __     _________
// /_____/\ /_____/\ /_____/\ /_______/\ /_/\/_/\ /_/\   /________/\
// \:::_ \ \\::::_\/_\::::_\/_\::: _  \ \\:\ \:\ \\:\ \  \__.::.__\/
//  \:\ \ \ \\:\/___/\\:\/___/\\::(_)  \ \\:\ \:\ \\:\ \    \::\ \
//   \:\ \ \ \\::___\/_\:::._\/ \:: __  \ \\:\ \:\ \\:\ \____\::\ \
//    \:\/.:| |\:\____/\\:\ \    \:.\ \  \ \\:\_\:\ \\:\/___/\\::\ \
//     \____/_/ \_____\/ \_\/     \__\/\__\/ \_____\/ \_____\/ \__\/
//         ___________________________________________________________
//        /__________________________________________________________/\
//        \__________________________________________________________\/
//
// Default for the footnote button: dark gray background which fades in through :hover/.active
// and includes a light gray ellipsis within the button



//  ___   ___   ______   __  __     __   __   ________   ______    ______
// /___/\/__/\ /_____/\ /_/\/_/\   /_/\ /_/\ /_______/\ /_____/\  /_____/\
// \::.\ \\ \ \\::::_\/_\ \ \ \ \  \:\ \\ \ \\::: _  \ \\:::_ \ \ \::::_\/_
//  \:: \/_) \ \\:\/___/\\:\_\ \ \  \:\ \\ \ \\::(_)  \ \\:(_) ) )_\:\/___/\
//   \:. __  ( ( \::___\/_\::::_\/   \:\_/.:\ \\:: __  \ \\: __ `\ \\_::._\:\
//    \: \ )  \ \ \:\____/\ \::\ \    \ ..::/ / \:.\ \  \ \\ \ `\ \ \ /____\:\
//     \__\/\__\/  \_____\/  \__\/     \___/_(   \__\/\__\/ \_\/ \_\/ \_____\/
//
// These are the key variables for styling the button.
// Just set the variable to none if you don't want that styling.

$button-height:                         1em;                            // The total height of the button
$button-width:                          auto;                           // The total button width (applies only if $button-apply-dimensions is true)
$button-inner-circle-size:              0.32em;                         // Total height/width of the ellipsis circles
$button-border-radius:                  0.3em;                          // Border radius on the button itself
$button-left-margin:                    0.2em;                          // Margin between the button and the text to its left
$button-right-margin:                   0.1em;                          // Margin between the button and the text to its right
$button-vertical-adjust:                -0.15em;                            // Pushes the buttons along the vertical axis to align it with text as desired
$button-inner-circle-left-margin:       0.7*$button-inner-circle-size;  // Space between the ellipsis circles

$button-color:                          rgb(70, 70, 70);                // Background color of the button
$button-hovered-color:                  $button-color;                  // Background color of the button when being hovered
$button-activating-color:               $button-color;                  // Background color of the button when being clicked
$button-active-color:                   $button-color;                  // Background color of the button when active
$button-standard-opacity:               0.3;                            // Opacity for when the button is just sittin' there
$button-hovered-opacity:                0.6;                            // Opacity for when the button is being hovered over
$button-activating-opacity:             $button-hovered-opacity;        // Opacity for when the button is being clicked
$button-active-opacity:                 0.9;                            // Opacity for when the button is active
$button-active-style-delay:             0.15s;                          // Delay before applying .active styles; this can be used to match to the popover activation transition

$button-inner-circle-color:             rgb(230, 230, 230);             // Background color of the ellipsis circle
$button-inner-circle-border:            none;                           // Border of the ellipsis circle
$button-perspective-shadow-color:       none;                           // The color of the button front
$button-perspective-shadow-height:      none;                           // The (unpressed) height of the button
$button-perspective-active-height:      none;                           // The height of the activated button
$button-content:                        none;                           // Text to insert using :before on the button
$button-content-color:                  none;                           // Color of the inserted text
$button-content-font-size:              none;                           // Font size of the inserted text
$button-content-vertical-adjust:        none;                           // Vertical adjustment of the inserted text (to center it in the button)
$button-content-font-family:            none;                           // Font family of the inserted text
$button-content-font-weight:            none;                           // Font weight of the inserted text
$button-content-font-style:             none;                           // Font style of the inserted text

$button-use-ellipsis:                   true;                           // Determines whether or not the footnote circles will be styled
$button-use-number:                     false;                          // Determines whether the footnote number will be included
$button-use-perspective-shadow:         false;                          // Determines whether or not a pretend button front will be used (makes the button function like a cartoonish, toggle-able button)
$button-apply-dimensions:               false;                          // Determines whether or not the dimensions above will apply directly to the footnote button (use for creating particular button shapes, like a circle)



//  ______   _________  ___   ___   ______   ______        __   __   ________   ______    ______
// /_____/\ /________/\/__/\ /__/\ /_____/\ /_____/\      /_/\ /_/\ /_______/\ /_____/\  /_____/\
// \:::_ \ \\__.::.__\/\::\ \\  \ \\::::_\/_\:::_ \ \     \:\ \\ \ \\::: _  \ \\:::_ \ \ \::::_\/_
//  \:\ \ \ \  \::\ \   \::\/_\ .\ \\:\/___/\\:(_) ) )_    \:\ \\ \ \\::(_)  \ \\:(_) ) )_\:\/___/\
//   \:\ \ \ \  \::\ \   \:: ___::\ \\::___\/_\: __ `\ \    \:\_/.:\ \\:: __  \ \\: __ `\ \\_::._\:\
//    \:\_\ \ \  \::\ \   \: \ \\::\ \\:\____/\\ \ `\ \ \    \ ..::/ / \:.\ \  \ \\ \ `\ \ \ /____\:\
//     \_____\/   \__\/    \__\/ \::\/ \_____\/ \_\/ \_\/     \___/_(   \__\/\__\/ \_\/ \_\/ \_____\/
//

$button-total-padding:              $button-height - $button-inner-circle-size;
$button-per-side-padding:           0.5*$button-total-padding;
$button-inside-content:             none;
$button-perspective-shadow-zindex:  8;



.footnote-container {
    display: inline-block;
    position: relative;
    text-indent: 0;
}


//   _______   __  __   _________  _________  ______   ___   __
// /_______/\ /_/\/_/\ /________/\/________/\/_____/\ /__/\ /__/\
// \::: _  \ \\:\ \:\ \\__.::.__\/\__.::.__\/\:::_ \ \\::\_\\  \ \
//  \::(_)  \/_\:\ \:\ \  \::\ \     \::\ \   \:\ \ \ \\:. `-\  \ \
//   \::  _  \ \\:\ \:\ \  \::\ \     \::\ \   \:\ \ \ \\:. _    \ \
//    \::(_)  \ \\:\_\:\ \  \::\ \     \::\ \   \:\_\ \ \\. \`-\  \ \
//     \_______\/ \_____\/   \__\/      \__\/    \_____\/ \__\/ \__\/
//
// The actual button, including just-created, active, and hovered states
.footnote-button {

    // POSITIONING
    position: relative;
    z-index: 5;
    top: $button-vertical-adjust;

    // DISPLAY AND SIZING
    box-sizing: border-box;
    -moz-box-sizing: border-box;;
    display: inline-block;
    padding: $button-per-side-padding;
    margin: 0 $button-right-margin 0 $button-left-margin;
    @if $button-apply-dimensions == true {
        height: $button-height;
        width: $button-width;
    }

    // BACKDROP
    border: none;
    border-radius: $button-border-radius;
    cursor: pointer;
    opacity: $button-standard-opacity;
    background-color: $button-color;
    -webkit-backface-visibility: hidden;

    // TEXT
    line-height: 0;
    vertical-align: middle;
    text-decoration: none;
    font-smoothing: antialiased;

    // TRANSITIONS AND ANIMATIONS
    @include transition-property(opacity);
    @include transition-duration(0.25s);


    // Put styles to apply when the button is being hovered over
    &:hover {
        opacity: $button-hovered-opacity;
        @if $button-hovered-color != $button-color { background-color: $button-hovered-color; }
    }

    // Put styles to apply when the button is being clicked
    &:active {
        opacity: $button-activating-opacity;
        @if $button-activating-color != $button-color { background-color: $button-activating-color; }
    }

    // Put styles to apply when the button is active (during after it has been pressed to activate the footnote)
    &.active {
        opacity: $button-active-opacity;
        @if $button-active-color != $button-color { background-color: $button-active-color; }
        @include transition-delay($button-active-style-delay);
    }

    @if $button-use-perspective-shadow == true {
        // Adjust the button downwards as needed
        &:active, &.active {
            top: $button-vertical-adjust + $button-perspective-shadow-height - $button-perspective-active-height;

            &:after { top: $button-perspective-active-height; }
        }

        // The top (before) and side (after) of the button
        &:before, &:after {

            // CONTENT
            content: '';

            // POSITION
            position: absolute;
            top: 0;
            left: 0;
            z-index: $button-perspective-shadow-zindex;

            // DISPLAY AND SIZING
            display: block;
            height: 100%;
            width: 100%;

            // BACKDROP
            border-radius: $button-border-radius;
            background-color: $button-color;
        }

        // Vertically adjust the side downwards and place it below the top (before) element
        &:after {
            top: $button-perspective-shadow-height;
            z-index: $button-perspective-shadow-zindex - 1;
            background-color: $button-perspective-shadow-color;
        }
    }

} // end of .footnote-button styling



//  ______   __       __        ________  ______   ______    ________  ______
// /_____/\ /_/\     /_/\      /_______/\/_____/\ /_____/\  /_______/\/_____/\
// \::::_\/_\:\ \    \:\ \     \__.::._\/\:::_ \ \\::::_\/_ \__.::._\/\::::_\/_
//  \:\/___/\\:\ \    \:\ \       \::\ \  \:(_) \ \\:\/___/\   \::\ \  \:\/___/\
//   \::___\/_\:\ \____\:\ \____  _\::\ \__\: ___\/ \_::._\:\  _\::\ \__\_::._\:\
//    \:\____/\\:\/___/\\:\/___/\/__\::\__/\\ \ \     /____\:\/__\::\__/\ /____\:\
//     \_____\/ \_____\/ \_____\/\________\/ \_\/     \_____\/\________\/ \_____\/
//
// Styles to apply to the inner dots included in the button
@if $button-use-ellipsis == true {

    .footnote-circle {

        // DISPLAY AND SIZING
        display: inline-block;
        width: $button-inner-circle-size;
        height: $button-inner-circle-size;
        margin-right: $button-inner-circle-left-margin;

        // BACKDROP
        border-radius: 100%;
        background-color: $button-inner-circle-color;
        border: $button-inner-circle-border;

        &:last-child { margin-right: 0; } // Gets rid of margin on the last circle

    } // end of .footnote-circle styling

}



//  ______   ______   ___   __    _________  ______   ___   __    _________
// /_____/\ /_____/\ /__/\ /__/\ /________/\/_____/\ /__/\ /__/\ /________/\
// \:::__\/ \:::_ \ \\::\_\\  \ \\__.::.__\/\::::_\/_\::\_\\  \ \\__.::.__\/
//  \:\ \  __\:\ \ \ \\:. `-\  \ \  \::\ \   \:\/___/\\:. `-\  \ \  \::\ \
//   \:\ \/_/\\:\ \ \ \\:. _    \ \  \::\ \   \::___\/_\:. _    \ \  \::\ \
//    \:\_\ \ \\:\_\ \ \\. \`-\  \ \  \::\ \   \:\____/\\. \`-\  \ \  \::\ \
//     \_____\/ \_____\/ \__\/ \__\/   \__\/    \_____\/ \__\/ \__\/   \__\/
//
// Styles to apply to inserted content within the button
@if $button-use-number == true or $button-content != none {

    .footnote-button:before {

        // CONTENT
        @if $button-use-number == true {
            content: attr(data-footnote-identifier);
            } @else {
                content: $button-content;
            }

        // POSITIONING
        position: absolute;
        bottom: $button-content-vertical-adjust;
        left: 0; right: 0;

        // DISPLAY AND SIZING
        display: block;

        // TEXT
        font-size: $button-content-font-size;
        color: $button-content-color;
        font-family: $button-content-font-family;
        font-weight: $button-content-font-weight;
        font-style: $button-content-font-style;
        line-height: 0;
        text-align: center;
        -webkit-backface-visibility: hidden;
    }

}



//
//  ______   ______     ________  ___   __    _________
// /_____/\ /_____/\   /_______/\/__/\ /__/\ /________/\
// \:::_ \ \\:::_ \ \  \__.::._\/\::\_\\  \ \\__.::.__\/
//  \:(_) \ \\:(_) ) )_   \::\ \  \:. `-\  \ \  \::\ \
//   \: ___\/ \: __ `\ \  _\::\ \__\:. _    \ \  \::\ \
//    \ \ \    \ \ `\ \ \/__\::\__/\\. \`-\  \ \  \::\ \
//     \_\/     \_\/ \_\/\________\/ \__\/ \__\/   \__\/
//

@include print-styles;


// -----


//  ______   ______   ______   ________   __  __   __     _________
// /_____/\ /_____/\ /_____/\ /_______/\ /_/\/_/\ /_/\   /________/\
// \:::_ \ \\::::_\/_\::::_\/_\::: _  \ \\:\ \:\ \\:\ \  \__.::.__\/
//  \:\ \ \ \\:\/___/\\:\/___/\\::(_)  \ \\:\ \:\ \\:\ \    \::\ \
//   \:\ \ \ \\::___\/_\:::._\/ \:: __  \ \\:\ \:\ \\:\ \____\::\ \
//    \:\/.:| |\:\____/\\:\ \    \:.\ \  \ \\:\_\:\ \\:\/___/\\::\ \
//     \____/_/ \_____\/ \_\/     \__\/\__\/ \_____\/ \_____\/ \__\/
//         ___________________________________________________________
//        /__________________________________________________________/\
//        \__________________________________________________________\/
//
// Default style for the popover: light gray background, dark gray border, box-shadow,
// and scales/ fades in when activated



//  ___   ___   ______   __  __     __   __   ________   ______    ______
// /___/\/__/\ /_____/\ /_/\/_/\   /_/\ /_/\ /_______/\ /_____/\  /_____/\
// \::.\ \\ \ \\::::_\/_\ \ \ \ \  \:\ \\ \ \\::: _  \ \\:::_ \ \ \::::_\/_
//  \:: \/_) \ \\:\/___/\\:\_\ \ \  \:\ \\ \ \\::(_)  \ \\:(_) ) )_\:\/___/\
//   \:. __  ( ( \::___\/_\::::_\/   \:\_/.:\ \\:: __  \ \\: __ `\ \\_::._\:\
//    \: \ )  \ \ \:\____/\ \::\ \    \ ..::/ / \:.\ \  \ \\ \ `\ \ \ /____\:\
//     \__\/\__\/  \_____\/  \__\/     \___/_(   \__\/\__\/ \_\/ \_\/ \_____\/
//
// These are the key variables for styling the popover.
// Just set the variable to none if you don't want that styling.

// STYLES
$popover-width:                         22em;                           // Ideal width of the popover
$popover-max-width:                     90%;                            // Best as a % to accommodate smaller viewports
$popover-max-height:                    15em;                           // Maximum size of the content area
$popover-color-background:              rgb(250, 250, 250);             // Color of the popover background
$popover-border-radius:                 0.5em;                          // Radius of the corners of the popover
$popover-border:                        1px solid rgb(195, 195, 195);   // Border of the popover/ tooltip
$popover-inactive-opacity:              0;                              // Opacity of the popover when instantiated/ deactivating
$popover-active-opacity:                0.97;                           // Opacity of the popover when active
$popover-box-shadow:                    0px 0px 8px rgba(0, 0, 0, 0.3); // Sets the box shadow under the popover/ tooltip
$popover-display-style:                 inline-block;                   // Determines the display style of the main popover
$popover-bottom-position:               auto;                           // Sets the bottom position of the popover. Use only when setting positionPopover to false in the script
$popover-left-position:                 auto;                           // Sets the left position of the popover. Use only when setting positionPopover to false in the script
$popover-tooltip-size:                  1.3em;                          // Sets the side lengths of the tooltip
$popover-scroll-indicator-color:        rgba(black, 0.08);              // The color of the scroll indicator
$popover-scroll-indicator-size:         1.8em;                          // The font size of the scroll indicator ellipsis
$popover-initial-transform-state:       scale(0.1) translateZ(0);       // The inital transform state for the popover
$popover-active-transform-state:        scale(1) translateZ(0);         // The transform state for the popover once it is fully activated

// OPTIONAL ELEMENTS
$popover-include-tooltip:               true;                           // Adds a tooltip pointing to the footnote button
$popover-include-scroll-indicator:      true;                           // Adds an elipsis at the bottom of scrollable popovers
$popover-include-scrolly-fades:         true;                           // Fades content in on scrollable popovers



//  ______   _________  ___   ___   ______   ______        __   __   ________   ______    ______
// /_____/\ /________/\/__/\ /__/\ /_____/\ /_____/\      /_/\ /_/\ /_______/\ /_____/\  /_____/\
// \:::_ \ \\__.::.__\/\::\ \\  \ \\::::_\/_\:::_ \ \     \:\ \\ \ \\::: _  \ \\:::_ \ \ \::::_\/_
//  \:\ \ \ \  \::\ \   \::\/_\ .\ \\:\/___/\\:(_) ) )_    \:\ \\ \ \\::(_)  \ \\:(_) ) )_\:\/___/\
//   \:\ \ \ \  \::\ \   \:: ___::\ \\::___\/_\: __ `\ \    \:\_/.:\ \\:: __  \ \\: __ `\ \\_::._\:\
//    \:\_\ \ \  \::\ \   \: \ \\::\ \\:\____/\\ \ `\ \ \    \ ..::/ / \:.\ \  \ \\ \ `\ \ \ /____\:\
//     \_____\/   \__\/    \__\/ \::\/ \_____\/ \_\/ \_\/     \___/_(   \__\/\__\/ \_\/ \_\/ \_____\/
//

// POPOVER
$button-height:                         0.8em; // Helps setting vertical position of popover
$popover-margin-top:                    0.1em;
$popover-padding-content-horizontal:    1.3em;
$popover-padding-content-top:           1.1em;
$popover-padding-content-bottom:        1.2em;
$popover-z-index:                       10; // Set the base so that it's above the other body children
$popover-initial-transform-origin:      50% 0;

// POPOVER CONTENT WRAPPER
$popover-content-color-background:      $popover-color-background;
$popover-content-border-radius:         $popover-border-radius;

// OTHER POPOVER ELEMENTS
$popover-tooltip-background:                    $popover-color-background;
$popover-tooltip-radius:                        0;
$popover-scroll-indicator-bottom-position:      0.45em;
$popover-scrolly-fade-gradient-start-location:  50%;
$popover-scroll-indicator-width:                1.5em;

// TRANSITIONS
$popover-transition-default-duration:           0.25s;

// Use none for areas you don't want to transition
$popover-transition:                            opacity, transform; // no mixin to do proper prefixing of the transform, so I have to do it manually; see mixin below
$popover-main-wrapper-transition:               max-height;
$popover-scroll-indicator-transition:           opacity;
$popover-scroll-up-transition-delay:            0.4s; // Sets the delay for the transition of the scroll indicator when scrolling upwards



//  ______   ______   ______   ______   __   __   ______   ______
// /_____/\ /_____/\ /_____/\ /_____/\ /_/\ /_/\ /_____/\ /_____/\
// \:::_ \ \\:::_ \ \\:::_ \ \\:::_ \ \\:\ \\ \ \\::::_\/_\:::_ \ \
//  \:(_) \ \\:\ \ \ \\:(_) \ \\:\ \ \ \\:\ \\ \ \\:\/___/\\:(_) ) )_
//   \: ___\/ \:\ \ \ \\: ___\/ \:\ \ \ \\:\_/.:\ \\::___\/_\: __ `\ \
//    \ \ \    \:\_\ \ \\ \ \    \:\_\ \ \\ ..::/ / \:\____/\\ \ `\ \ \
//     \_\/     \_____\/ \_\/     \_____\/ \___/_(   \_____\/ \_\/ \_\/
//
// These styles apply to the footnote popovers as soon as they are created
// Wrapper will initially not have the active class applied to them so you have time to apply a property that can then be transitioned.
// The active class is also taken off slightly before the footnote is removed, giving you time to transition out as well
// You also get a class of scrollable if the content is larger than the height
// Set the width, max-width, opacity, border-radius, top/bottom margin, and box-shadow here
.footnote-content {

    // POSITIONING
    position: absolute;
    z-index: $popover-z-index;
    top: 0; left: 0;

    // DISPLAY AND SIZING
    display: inline-block;
    box-sizing: border-box;
    -moz-box-sizing: border-box;;
    // Height is set in .footnote-content-wrapper
    max-width: $popover-max-width;

    // 1.414213... is to get the diagonal height of the tooltip using pythagorus, yo.
    margin: ((1.4142135624 * $popover-tooltip-size / 2) + $button-height + $popover-margin-top) 0;
    display: $popover-display-style; // fits the popover to the contents
    @if $popover-initial-transform-state != none {
        &:not(.fixed-bottom) {
            @include transform($popover-initial-transform-state);
            @include transform-origin($popover-initial-transform-origin);
        }
    }

    // BACKDROP
    background: $popover-color-background;
    opacity: $popover-inactive-opacity;
    border-radius: $popover-border-radius;
    border: $popover-border;
    box-shadow: $popover-box-shadow;
    line-height: 0;

    // TRANSITIONS AND ANIMATIONS
    @if $popover-transition != none {
        @include transition-property($popover-transition);
        @include transition-duration($popover-transition-default-duration);
    }

    &.top {
        top: auto; bottom: 0.2em;
    }

    // Put styles here to apply when the popover is active (can be transitioned in/ out of from the CSS properties above)
    &.active:not(.fixed-bottom) {
        @if $popover-active-transform-state != none { @include transform($popover-active-transform-state); }
        opacity: $popover-active-opacity;
    }

    // Put styles to apply when the popover is being hovered over
    &:hover {

    }

    &.fixed-bottom {

        // POSITIONING
        bottom: 0 !important;
        top: auto !important;
        left: 0 !important;

        // DISPLAY AND SIZING
        width: 100%;
        max-width: 100%;
        margin: 0;
        @include transform(translateY(105%));

        // BACKDROP
        border-radius: 0;
        opacity: 1;

        // TRANSITIONS AND ANIMATIONS
        @include transition-property(transform);
        @include transition-duration($popover-transition-default-duration);

        &.active {
            @include transform(translateY(0));
        }

        .footnote-main-wrapper {
            max-width: $popover-max-width;
            width: $popover-width;
            margin: 0 auto;
        }

        .bigfoot-tooltip {
            display: none;
        }
    }

    // Put styles to apply when the popover scroll height is greater than its content max-height
    &.scrollable {

        @if $popover-include-scroll-indicator == true {

            &:after {

                // CONTENT
                content: '...';

                // POSITIONING
                position: fixed;
                bottom: $popover-scroll-indicator-bottom-position;
                right: 50%;
                z-index: 20;

                // DISPLAY AND SIZING
                width: $popover-scroll-indicator-width;
                margin-right: -0.5 * $popover-scroll-indicator-width; // Centers the indicator

                // BACKDROP
                opacity: 1;
                background-color: $popover-color-background;

                // TEXT
                font-family: Georgia; // Use Georgia as the periods are round
                font-weight: bold;
                font-size: $popover-scroll-indicator-size;
                text-align: center;
                color: $popover-scroll-indicator-color;
                line-height: 0;

                // TRANSITIONS AND ANIMATIONS
                @if $popover-scroll-indicator-transition != none {
                    @include transition-property($popover-scroll-indicator-transition);
                    @include transition-duration($popover-transition-default-duration);
                    @include transition-delay($popover-scroll-up-transition-delay);
                }

            }

        }

        // This applies when a scrollable popover has been scrolled to the bottom
        &.fully-scrolled:after {

            @if $popover-include-scroll-indicator == true {
                opacity: 0;
                @if $popover-scroll-indicator-transition != none {
                    @include transition-delay(0s); // no delay when you've reached the bottom
                }
            }

        }

        // These create the fades at the top/ bottom of the popover scroll area. Don't change unless you know what you're doing
        @if $popover-include-scrolly-fades == true {

            .footnote-main-wrapper:before, .footnote-main-wrapper:after {
                content: ' ';
                position: absolute;
                width: 100%;
                z-index: $popover-z-index + 2; // Above the content
            }

            .footnote-main-wrapper:before {
                top: -1px;
                left: 0;
                height: $popover-padding-content-top;
                border-radius: $popover-border-radius $popover-border-radius 0 0;
                @include gradient(bottom, $popover-color-background, $popover-scrolly-fade-gradient-start-location, transparentize($popover-color-background, 1));
            }

            .footnote-main-wrapper:after {
                bottom: -1px;
                left: 0;
                height: $popover-padding-content-bottom;
                border-radius: 0 0 ($popover-border-radius) ($popover-border-radius);
                @include gradient(top, $popover-color-background, $popover-scrolly-fade-gradient-start-location, transparentize($popover-color-background, 1));
            }

        } // end of scrolly-fades styling

    } // end of .scrollable styling

    ::-webkit-scrollbar { display: none; }

} // end of .footnote-content styling



//  ___ __ __   ________    ________  ___   __        __ __ __   ______    ________   ______
// /__//_//_/\ /_______/\  /_______/\/__/\ /__/\     /_//_//_/\ /_____/\  /_______/\ /_____/\
// \::\| \| \ \\::: _  \ \ \__.::._\/\::\_\\  \ \    \:\\:\\:\ \\:::_ \ \ \::: _  \ \\:::_ \ \
//  \:.      \ \\::(_)  \ \   \::\ \  \:. `-\  \ \    \:\\:\\:\ \\:(_) ) )_\::(_)  \ \\:(_) \ \
//   \:.\-/\  \ \\:: __  \ \  _\::\ \__\:. _    \ \    \:\\:\\:\ \\: __ `\ \\:: __  \ \\: ___\/
//    \. \  \  \ \\:.\ \  \ \/__\::\__/\\. \`-\  \ \    \:\\:\\:\ \\ \ `\ \ \\:.\ \  \ \\ \ \
//     \__\/ \__\/ \__\/\__\/\________\/ \__\/ \__\/     \_______\/ \_\/ \_\/ \__\/\__\/ \_\/
//
// These styles apply to the footnote except for the tooltip (to allow the tooltip to be below the content)
// The max-height will be set by JavaScript here in order to prevent the popover from flowing off the screen
// Set border, border-radius, and background-color here
.footnote-main-wrapper {

    // POSITIONING
    position: relative;
    z-index: $popover-z-index + 4; // Above the outer tooltip, below the inner tooltip

    // DISPLAY AND SIZING
    width: $popover-width;
    display: inline-block;
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    overflow: hidden;
    margin: 0;

    // BACKDROP
    background-color: $popover-color-background;
    border-radius: $popover-border-radius;
    @if $popover-main-wrapper-transition != none {
        @include transition-property($popover-main-wrapper-transition);
        @include transition-duration($popover-transition-default-duration);
    }

} // end of .footnote-main-wrapper styling



//  ______   ______   ___   __    _________  ______   ___   __    _________   __ __ __   ______    ________   ______
// /_____/\ /_____/\ /__/\ /__/\ /________/\/_____/\ /__/\ /__/\ /________/\ /_//_//_/\ /_____/\  /_______/\ /_____/\
// \:::__\/ \:::_ \ \\::\_\\  \ \\__.::.__\/\::::_\/_\::\_\\  \ \\__.::.__\/ \:\\:\\:\ \\:::_ \ \ \::: _  \ \\:::_ \ \
//  \:\ \  __\:\ \ \ \\:. `-\  \ \  \::\ \   \:\/___/\\:. `-\  \ \  \::\ \    \:\\:\\:\ \\:(_) ) )_\::(_)  \ \\:(_) \ \
//   \:\ \/_/\\:\ \ \ \\:. _    \ \  \::\ \   \::___\/_\:. _    \ \  \::\ \    \:\\:\\:\ \\: __ `\ \\:: __  \ \\: ___\/
//    \:\_\ \ \\:\_\ \ \\. \`-\  \ \  \::\ \   \:\____/\\. \`-\  \ \  \::\ \    \:\\:\\:\ \\ \ `\ \ \\:.\ \  \ \\ \ \
//     \_____\/ \_____\/ \__\/ \__\/   \__\/    \_____\/ \__\/ \__\/   \__\/     \_______\/ \_\/ \_\/ \__\/\__\/ \_\/
//
// These apply to the actual content area of the popover (scroll).
// You also set the max-height here
.footnote-content-wrapper {

    // POSITIONING
    position: relative;
    z-index: $popover-z-index - 2; // Below fading bars

    // DISPLAY AND SIZING
    display: inline-block;
    max-height: $popover-max-height;
    padding: $popover-padding-content-top $popover-padding-content-horizontal $popover-padding-content-bottom;
    box-sizing: border-box;
    -moz-box-sizing: border-box;;
    overflow: auto;
    -webkit-overflow-scrolling: touch;

    // BACKDROP
    background: $popover-content-color-background;
    border-radius: $popover-content-border-radius;

    // TEXT
    -webkit-font-smoothing: subpixel-antialiased;

    // INTERIOR ELEMENTS
    img { max-width: 100%; }
    *:last-child { margin-bottom: 0; }
    *:first-child { margin-top: 0; }

} // end of .footnote-content-wrapper styling



//  _________  ______   ______   __     _________  ________  ______
// /________/\/_____/\ /_____/\ /_/\   /________/\/_______/\/_____/\
// \__.::.__\/\:::_ \ \\:::_ \ \\:\ \  \__.::.__\/\__.::._\/\:::_ \ \
//    \::\ \   \:\ \ \ \\:\ \ \ \\:\ \    \::\ \     \::\ \  \:(_) \ \
//     \::\ \   \:\ \ \ \\:\ \ \ \\:\ \____\::\ \    _\::\ \__\: ___\/
//      \::\ \   \:\_\ \ \\:\_\ \ \\:\/___/\\::\ \  /__\::\__/\\ \ \
//       \__\/    \_____\/ \_____\/ \_____\/ \__\/  \________\/ \_\/
//
// These create the tooltip. The horizontal positioning of the tooltip is set by the script itself
@if $popover-include-tooltip == true {

    .bigfoot-tooltip {

        // POSITIONING
        position: absolute;
        z-index: $popover-z-index + 2; // Above the footnote-main-wrapper and the outer tooltip

        // DISPLAY AND SIZING
        box-sizing: border-box;
        -moz-box-sizing: border-box;;
        margin-left: -0.5 * ($popover-tooltip-size);
        width: $popover-tooltip-size; // Smaller by one border-width's worth
        height: $popover-tooltip-size;
        @include transform(rotate(45deg));

        // BACKDROP
        background: $popover-tooltip-background;
        border: $popover-border;
        box-shadow: $popover-box-shadow;
        border-top-left-radius: $popover-tooltip-radius;

    }

    // Mandatory vertical-positioning stuff for the tooltip
    .bottom .bigfoot-tooltip {
        top: -0.5 * $popover-tooltip-size;
        bottom: auto;
    }

    .top .bigfoot-tooltip {
        bottom: -0.5 * $popover-tooltip-size;
        top: auto;
    }

} @else {

        .bigfoot-tooltip { display: none; }

} // end of the tooltip styling

